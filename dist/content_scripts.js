(()=>{"use strict";const e=(e={},a={payload:Number})=>{if(e){const t=e;t.playbackRate=a.payload,t.dataset.CustomPlaybackRate=e.playbackRate}},a=(e={},a={payload:Number})=>{if(e){const t=document.querySelector("[data--custom-playback-rate]")||document.querySelector("video");t.playbackRate=a.payload,t.dataset.CustomPlaybackRate=e.playbackRate}},t=(e={payload:Number},a={})=>{if(void 0===e.payload||!a)return!0;const t=a.playbackRate,o=Number(e.payload);if(t!==o){const e=a;return e.playbackRate=o,e.dataset.CustomPlaybackRate=a.playbackRate,!1}return!0},o=(n={},c={})=>{if("VIDEO"===n.nodeName||"AUDIO"===n.nodeName)((o={},n=!1)=>{let c=o.querySelector("video");if(!c)return!1;const s={request:{payload:c.playbackRate}};n?a(c,s.request):e(c,s.request),chrome.runtime.onMessage.addListener(((o,n,s)=>{if("changePlaybackSpeed"===o.message||"getPlayBackSpeedOnPageLoad"===o.message){if("www.netflix.com"===document.location.hostname&&"getPlayBackSpeedOnPageLoad"===o.message){console.count("location and message");const e=setTimeout((()=>{const a=setInterval((()=>{c=document.querySelector("video"),c&&t(o,c)&&clearInterval(a)}),500);clearTimeout(e)}),500)}else if("getPlayBackSpeedOnPageLoad"===o.message){const e=setTimeout((()=>{const a=setInterval((()=>{t(o,c)&&clearInterval(a)}),500);clearTimeout(e)}),500)}return"changePlaybackSpeed"===o.message&&"www.netflix.com"===document.location.hostname?a(c,o):"changePlaybackSpeed"===o.message&&e(c,o),s({message:"success",payload:c.playbackRate}),!0}return!0})),((e={})=>{chrome.runtime.sendMessage({message:"foundVideo",payload:e.playbackRate},(a=>{const{lastError:t=""}=chrome.runtime;if(t)console.log(t);else if("foundVideoSuccess"===a?.message&&null!==a.payload){const t=e;t.playbackRate=a.payload,t.dataset.CustomPlaybackRate=t.playbackRate}}))})(c)})(c);else if(void 0!==n.children)for(let e=0;e<n.children.length;e+=1){const a=n.children[e];o(a,a.parentNode||c)}},n=e=>{new MutationObserver((e=>{e.forEach((e=>{Array.from(e.addedNodes).filter((e=>"VIDEO"===e.nodeName||"IFRAME"===e.nodeName)).forEach((a=>{o(a,a.parentNode??e.target)}))}))})).observe(e,{childList:!0,subtree:!0})};!async function(){!await(async()=>{const e=new RegExp("netflix","g");return!(!e.test(document.location.orgin)&&!e.test(document.URL))})()&&window.document&&(console.log("Running Mutation Observer To Find Videos"),(()=>{const e=(()=>{const e=document.getElementsByTagName("iframe");return Array.from(e).filter((e=>e.contentDocument)).map((e=>e.contentDocument))})();return Array.from([document,...e])})().forEach(n))}()})();